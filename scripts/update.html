

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Update MontyLacuna &mdash; Monty Lacuna 0.1 documentation</title>
  

  
  
    <link rel="shortcut icon" href="../static/monty_foot.ico"/>
  

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic|Roboto+Slab:400,700|Inconsolata:400,700&subset=latin,cyrillic' rel='stylesheet' type='text/css'>

  
  
    

  

  
  
    <link rel="stylesheet" href="../static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="Monty Lacuna 0.1 documentation" href="../index.html"/>
        <link rel="up" title="MontyLacuna Scripts" href="index.html"/>
        <link rel="next" title="Body Abbreviations" href="abbreviations.html"/>
        <link rel="prev" title="Turnkey (Prisoner Management)" href="turnkey.html"/> 

  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.6.2/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        
          <a href="../index.html" class="fa fa-home"> Monty Lacuna</a>
        
        
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
          
          
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../getting_started_running.html">Getting Started Running Scripts</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../getting_started_running.html#overview-of-steps">Overview of Steps</a></li>
<li class="toctree-l2"><a class="reference internal" href="../getting_started_running.html#install-python-3">Install Python 3</a></li>
<li class="toctree-l2"><a class="reference internal" href="../getting_started_running.html#install-montylacuna">Install MontyLacuna</a></li>
<li class="toctree-l2"><a class="reference internal" href="../getting_started_running.html#install-pip-and-prerequisite-libraries">Install pip and Prerequisite Libraries</a></li>
<li class="toctree-l2"><a class="reference internal" href="../getting_started_running.html#create-a-config-file">Create A Config File</a></li>
<li class="toctree-l2"><a class="reference internal" href="../getting_started_running.html#ready-to-test">Ready to Test</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">MontyLacuna Scripts</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="index.html#starter-scripts">Starter Scripts</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html#regular-scripts">Regular Scripts</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="abbreviations.html">Body Abbreviations</a><ul>
<li class="toctree-l2"><a class="reference internal" href="abbreviations.html#setting-abbreviations">Setting Abbreviations</a></li>
<li class="toctree-l2"><a class="reference internal" href="abbreviations.html#displaying-set-abbreviations">Displaying Set Abbreviations</a></li>
<li class="toctree-l2"><a class="reference internal" href="abbreviations.html#deleting-an-abbreviation">Deleting An Abbreviation</a></li>
<li class="toctree-l2"><a class="reference internal" href="abbreviations.html#using-abbreviations">Using Abbreviations</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../config_file.html">Config File</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../config_file.html#setting-descriptions">Setting Descriptions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../config_file.html#default-values">Default Values</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../getting_started_writing.html">Getting Started Writing Scripts</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../getting_started_writing.html#tell-your-script-where-montylacuna-lives">Tell Your Script Where MontyLacuna Lives</a></li>
<li class="toctree-l2"><a class="reference internal" href="../getting_started_writing.html#connect-a-client">Connect a client</a></li>
<li class="toctree-l2"><a class="reference internal" href="../getting_started_writing.html#logging-and-caching">Logging and Caching</a></li>
<li class="toctree-l2"><a class="reference internal" href="../getting_started_writing.html#debugging-requests">Debugging Requests</a></li>
<li class="toctree-l2"><a class="reference internal" href="../getting_started_writing.html#method-calling">Method Calling</a></li>
<li class="toctree-l2"><a class="reference internal" href="../getting_started_writing.html#test-scripts">Test Scripts</a></li>
<li class="toctree-l2"><a class="reference internal" href="../getting_started_writing.html#adding-unit-tests">Adding Unit Tests</a></li>
<li class="toctree-l2"><a class="reference internal" href="../getting_started_writing.html#example-snippets">Example Snippets</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../tle_modules/index.html">TLE Modules</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../tle_modules/alliance.html">Alliance</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tle_modules/body.html">Body</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tle_modules/building.html">Building</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tle_modules/captcha.html">Captcha</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tle_modules/empire.html">Empire</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tle_modules/inbox.html">Inbox</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tle_modules/map.html">Map</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tle_modules/stats.html">Stats</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../tests/index.html">Unit Tests</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../tests/index.html#existing-tests">Existing tests</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tests/index.html#running-all-tests">Running all tests</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tests/index.html#creating-script-tests">Creating script tests</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../bc.html">bc</a></li>
<li class="toctree-l1"><a class="reference internal" href="../caching.html">caching</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../caching.html#overview">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../caching.html#synopsis">Synopsis</a></li>
<li class="toctree-l2"><a class="reference internal" href="../caching.html#description">Description</a></li>
<li class="toctree-l2"><a class="reference internal" href="../caching.html#script-conventions">Script Conventions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../caching.html#module-lacuna.clients">Module Documentation</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../clients.html">clients</a></li>
<li class="toctree-l1"><a class="reference internal" href="../exceptions.html">exceptions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../glyph.html">glyph</a></li>
<li class="toctree-l1"><a class="reference internal" href="../logging.html">logging</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../logging.html#log-levels">Log Levels</a></li>
<li class="toctree-l2"><a class="reference internal" href="../logging.html#request-log">Request Log</a></li>
<li class="toctree-l2"><a class="reference internal" href="../logging.html#user-log">User Log</a></li>
<li class="toctree-l2"><a class="reference internal" href="../logging.html#module-log">Module Log</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../my_validate_email.html">my_validate_email</a></li>
<li class="toctree-l1"><a class="reference internal" href="../plan.html">plan</a></li>
<li class="toctree-l1"><a class="reference internal" href="../recycling.html">recycling</a></li>
<li class="toctree-l1"><a class="reference internal" href="../resource.html">resource</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ship.html">ship</a></li>
<li class="toctree-l1"><a class="reference internal" href="../spy.html">spy</a></li>
<li class="toctree-l1"><a class="reference internal" href="../trading.html">trading</a></li>
<li class="toctree-l1"><a class="reference internal" href="../types.html">types</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../types.html#ship-translations">Ship Translations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../types.html#ore-translations">Ore Translations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../types.html#spy-assignment-translations">Spy Assignment Translations</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../bc.html">bc</a></li>
<li class="toctree-l1"><a class="reference internal" href="../caching.html">caching</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../caching.html#overview">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../caching.html#synopsis">Synopsis</a></li>
<li class="toctree-l2"><a class="reference internal" href="../caching.html#description">Description</a></li>
<li class="toctree-l2"><a class="reference internal" href="../caching.html#script-conventions">Script Conventions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../caching.html#module-lacuna.clients">Module Documentation</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../clients.html">clients</a></li>
<li class="toctree-l1"><a class="reference internal" href="../exceptions.html">exceptions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../glyph.html">glyph</a></li>
<li class="toctree-l1"><a class="reference internal" href="../logging.html">logging</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../logging.html#log-levels">Log Levels</a></li>
<li class="toctree-l2"><a class="reference internal" href="../logging.html#request-log">Request Log</a></li>
<li class="toctree-l2"><a class="reference internal" href="../logging.html#user-log">User Log</a></li>
<li class="toctree-l2"><a class="reference internal" href="../logging.html#module-log">Module Log</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../my_validate_email.html">my_validate_email</a></li>
<li class="toctree-l1"><a class="reference internal" href="../plan.html">plan</a></li>
<li class="toctree-l1"><a class="reference internal" href="../recycling.html">recycling</a></li>
<li class="toctree-l1"><a class="reference internal" href="../resource.html">resource</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ship.html">ship</a></li>
<li class="toctree-l1"><a class="reference internal" href="../spy.html">spy</a></li>
<li class="toctree-l1"><a class="reference internal" href="../trading.html">trading</a></li>
<li class="toctree-l1"><a class="reference internal" href="../types.html">types</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../types.html#ship-translations">Ship Translations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../types.html#ore-translations">Ore Translations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../types.html#spy-assignment-translations">Spy Assignment Translations</a></li>
</ul>
</li>
</ul>

          
        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../index.html">Monty Lacuna</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html">Docs</a> &raquo;</li>
      
          <li><a href="index.html">MontyLacuna Scripts</a> &raquo;</li>
      
    <li>Update MontyLacuna</li>
      <li class="wy-breadcrumbs-aside">
        
          <a href="../sources/scripts/update.txt" rel="nofollow"> View page source</a>
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document">
            
  <div class="section" id="update-montylacuna">
<span id="update"></span><h1>Update MontyLacuna<a class="headerlink" href="#update-montylacuna" title="Permalink to this headline">¶</a></h1>
<p>Updates MontyLacuna from GitHub so you don&#8217;t have to walk through the download
process again.</p>
<p>To get the newest scripts, libraries, bugfixes, etc, just run the update
script:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">python</span> <span class="nb">bin</span><span class="o">/</span><span class="n">update</span><span class="o">.</span><span class="n">py</span>
</pre></div>
</div>
<p><code class="docutils literal"><span class="pre">update.py</span></code> is different from pretty much all of the other MontyLacuna
scripts in that it does not accept any arguments from the command line.  It
doesn&#8217;t respond to the standard <code class="docutils literal"><span class="pre">--help</span></code> flag, or provide basic usage
information at all.</p>
<div class="section" id="caution">
<h2>CAUTION!<a class="headerlink" href="#caution" title="Permalink to this headline">¶</a></h2>
<p>This update script is mainly meant with the non-programmer in mind.  If you&#8217;ve
edited any existing MontyLacuna scripts yourself, those edits will be lost
when you update.</p>
<p>You don&#8217;t have to worry about your <code class="docutils literal"><span class="pre">lacuna.cfg</span></code> file being overwritten, just
any scripts you&#8217;ve modified.</p>
<p>If you&#8217;ve made any brand-new scripts (rather than editing existing MontyLacuna
scripts), your new scripts should be untouched.  The possible exception to
this is if you create a script and name it eg <code class="docutils literal"><span class="pre">do_neat_stuff.py</span></code>, and
sometime in the future a script named <code class="docutils literal"><span class="pre">do_neat_stuff.py</span></code> gets added to the
official MontyLacuna distribution just by coincidence, then the official
MontyLacuna script will overwrite yours.</p>
<p>So when writing your own scripts, it might make sense to prepend the script
filenames with your name or initials or something.  So when Infinate Ones
makes his own custom script, he&#8217;d name it <code class="docutils literal"><span class="pre">io_do_neat_stuff.py</span></code>.</p>
</div>
<div class="section" id="full-documentation">
<h2>Full documentation<a class="headerlink" href="#full-documentation" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="lacuna.binutils.libupdate.Update">
<em class="property">class </em><code class="descclassname">lacuna.binutils.libupdate.</code><code class="descname">Update</code><a class="headerlink" href="#lacuna.binutils.libupdate.Update" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="../getting_started_writing.html#lacuna.binutils.libbin.Script" title="lacuna.binutils.libbin.Script"><code class="xref py py-class docutils literal"><span class="pre">lacuna.binutils.libbin.Script</span></code></a></p>
<p>Updates MontyLacuna from github.</p>
<dl class="method">
<dt id="lacuna.binutils.libupdate.Update.consuela">
<code class="descname">consuela</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#lacuna.binutils.libupdate.Update.consuela" title="Permalink to this definition">¶</a></dt>
<dd><p>Clean up after ourselves.</p>
<p>Removes both the temporary directory, including its contents, and the
downloaded .zip file.</p>
<p>Needs more lemon pledge.</p>
</dd></dl>

<dl class="method">
<dt id="lacuna.binutils.libupdate.Update.copy_mismatched_file">
<code class="descname">copy_mismatched_file</code><span class="sig-paren">(</span><em>tmp_path</em>, <em>name</em><span class="sig-paren">)</span><a class="headerlink" href="#lacuna.binutils.libupdate.Update.copy_mismatched_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Copies an existing file to our &#8220;live file path&#8221; if that file is either
completely new (it doesn&#8217;t already exist in our &#8220;live file path&#8221;), or if
the file in question does not exactly match the file in our &#8220;live file
path&#8221;.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>tmp_path -- The path where the file in question currently lives.</strong> (<em>-</em>) &#8211; MUST NOT END WITH A SLASH.</li>
<li><strong>name -- The name of the file in question.</strong> (<em>-</em>) &#8211; </li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>The &#8220;live file path&#8221; is determined by get_live_path().</p>
</dd></dl>

<dl class="method">
<dt id="lacuna.binutils.libupdate.Update.copy_new_file">
<code class="descname">copy_new_file</code><span class="sig-paren">(</span><em>file_path</em>, <em>new_path</em><span class="sig-paren">)</span><a class="headerlink" href="#lacuna.binutils.libupdate.Update.copy_new_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Copy a file to a new path, maintaining the original filename.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>file_path -- Full path to the file to copy</strong> (<em>-</em>) &#8211; </li>
<li><strong>new_path -- Path into which the file should be copied.</strong> (<em>-</em>) &#8211; MUST NOT END WITH A SLASH.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="lacuna.binutils.libupdate.Update.download_and_extract_zipfile">
<code class="descname">download_and_extract_zipfile</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#lacuna.binutils.libupdate.Update.download_and_extract_zipfile" title="Permalink to this definition">¶</a></dt>
<dd><p>Downloads a file from a given URL and writes it to the requested path.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>URL -- A FQ URL, assumed to point to a .zip file.</strong> (<em>-</em>) &#8211; </li>
<li><strong>output_file -- Full path to where you want the downloaded file</strong> (<em>-</em>) &#8211; written.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="lacuna.binutils.libupdate.Update.get_live_path">
<code class="descname">get_live_path</code><span class="sig-paren">(</span><em>path</em><span class="sig-paren">)</span><a class="headerlink" href="#lacuna.binutils.libupdate.Update.get_live_path" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a path to a file, which is assumed to be living under a temporary
directory named &#8216;tmp&#8217;, returns the path where the file needs to end up.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>path -- the current temporary directory path.</strong> (<em>-</em>) &#8211; </td>
</tr>
</tbody>
</table>
<p>This is a bit fragile.  You CANNOT go changing the name of your temporary
directory and expect this to work.  It must be named &#8216;tmp&#8217;.</p>
</dd></dl>

<dl class="method">
<dt id="lacuna.binutils.libupdate.Update.get_zipfile_name">
<code class="descname">get_zipfile_name</code><span class="sig-paren">(</span><em>prefix</em><span class="sig-paren">)</span><a class="headerlink" href="#lacuna.binutils.libupdate.Update.get_zipfile_name" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a prefix, returns a dated filename string with a .zip extension.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>prefix -- String.  Nothing is appended to this, so you probably want</strong> (<em>-</em>) &#8211; to include an underscore or other separator.</td>
</tr>
</tbody>
</table>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">get_zipfile_name</span><span class="p">(</span> <span class="s">&quot;foo_&quot;</span> <span class="p">);</span>
<span class="go">foo_20150218170100.zip</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="lacuna.binutils.libupdate.Update.hash_file">
<code class="descname">hash_file</code><span class="sig-paren">(</span><em>filepath</em><span class="sig-paren">)</span><a class="headerlink" href="#lacuna.binutils.libupdate.Update.hash_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the hash digest of a file as a string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>filepath -- full path to a file to hash</strong> (<em>-</em>) &#8211; </td>
</tr>
</tbody>
</table>
<p>SHA1 may or may not be faster/slower than MD5.  Either way, the difference
in speed is negligible.</p>
</dd></dl>

</dd></dl>

</div>
</div>


          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="abbreviations.html" class="btn btn-neutral float-right" title="Body Abbreviations">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="turnkey.html" class="btn btn-neutral" title="Turnkey (Prisoner Management)"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2014 - 2015, Jonathan Barton.
    </p>
  </div>

  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
  
</footer>
        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'0.1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../static/jquery.js"></script>
      <script type="text/javascript" src="../static/underscore.js"></script>
      <script type="text/javascript" src="../static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>