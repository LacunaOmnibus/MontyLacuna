

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Assign Spies &mdash; Monty Lacuna 0.1 documentation</title>
  

  
  

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  
  
    

  

  
  
    <link rel="stylesheet" href="../static/css/theme.css" type="text/css" />
  

  
    <link rel="top" title="Monty Lacuna 0.1 documentation" href="../index.html"/>
        <link rel="up" title="MontyLacuna Scripts" href="index.html"/>
        <link rel="next" title="Build Ships" href="build_ships.html"/>
        <link rel="prev" title="Get Pip" href="get_pip.html"/> 

  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.6.2/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        <a href="../index.html" class="fa fa-home"> Monty Lacuna</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
        
            <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../getting_started_running.html">Getting Started Running Scripts</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../getting_started_running.html#overview-of-steps">Overview of Steps</a></li>
<li class="toctree-l2"><a class="reference internal" href="../getting_started_running.html#install-python-3">Install Python 3</a></li>
<li class="toctree-l2"><a class="reference internal" href="../getting_started_running.html#install-montylacuna">Install MontyLacuna</a></li>
<li class="toctree-l2"><a class="reference internal" href="../getting_started_running.html#install-pip-and-prerequisite-libraries">Install pip and Prerequisite Libraries</a></li>
<li class="toctree-l2"><a class="reference internal" href="../getting_started_running.html#create-a-config-file">Create A Config File</a></li>
<li class="toctree-l2"><a class="reference internal" href="../getting_started_running.html#ready-to-test">Ready to Test</a></li>
<li class="toctree-l2"><a class="reference internal" href="../getting_started_running.html#completely-optional-update-with-git">Completely Optional &#8211; Update with Git</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">MontyLacuna Scripts</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="index.html#starter-scripts">Starter Scripts</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html#regular-scripts">Regular Scripts</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../config_file.html">Config File</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../config_file.html#setting-descriptions">Setting Descriptions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../config_file.html#default-values">Default Values</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../getting_started_writing.html">Getting Started Writing Scripts</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../getting_started_writing.html#test-scripts">Test Scripts</a></li>
<li class="toctree-l2"><a class="reference internal" href="../getting_started_writing.html#tell-your-script-where-montylacuna-lives">Tell Your Script Where MontyLacuna Lives</a></li>
<li class="toctree-l2"><a class="reference internal" href="../getting_started_writing.html#connect-a-client">Connect a client</a></li>
<li class="toctree-l2"><a class="reference internal" href="../getting_started_writing.html#logging-and-caching">Logging and Caching</a></li>
<li class="toctree-l2"><a class="reference internal" href="../getting_started_writing.html#debugging-requests">Debugging Requests</a></li>
<li class="toctree-l2"><a class="reference internal" href="../getting_started_writing.html#method-calling">Method Calling</a></li>
<li class="toctree-l2"><a class="reference internal" href="../getting_started_writing.html#example-snippets">Example Snippets</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../tle_modules/index.html">TLE Modules</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../tle_modules/alliance.html">Alliance</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tle_modules/body.html">Body</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tle_modules/building.html">Building</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tle_modules/captcha.html">Captcha</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tle_modules/empire.html">Empire</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tle_modules/inbox.html">Inbox</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tle_modules/map.html">Map</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tle_modules/stats.html">Stats</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../bc.html">bc</a></li>
<li class="toctree-l1"><a class="reference internal" href="../caching.html">caching</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../caching.html#overview">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../caching.html#synopsis">Synopsis</a></li>
<li class="toctree-l2"><a class="reference internal" href="../caching.html#description">Description</a></li>
<li class="toctree-l2"><a class="reference internal" href="../caching.html#script-conventions">Script Conventions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../caching.html#module-lacuna.clients">Module Documentation</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../clients.html">clients</a></li>
<li class="toctree-l1"><a class="reference internal" href="../exceptions.html">exceptions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../glyph.html">glyph</a></li>
<li class="toctree-l1"><a class="reference internal" href="../logging.html">logging</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../logging.html#log-levels">Log Levels</a></li>
<li class="toctree-l2"><a class="reference internal" href="../logging.html#request-log">Request Log</a></li>
<li class="toctree-l2"><a class="reference internal" href="../logging.html#user-log">User Log</a></li>
<li class="toctree-l2"><a class="reference internal" href="../logging.html#module-log">Module Log</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../my_validate_email.html">my_validate_email</a></li>
<li class="toctree-l1"><a class="reference internal" href="../plan.html">plan</a></li>
<li class="toctree-l1"><a class="reference internal" href="../recycling.html">recycling</a></li>
<li class="toctree-l1"><a class="reference internal" href="../resource.html">resource</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ship.html">ship</a></li>
<li class="toctree-l1"><a class="reference internal" href="../spy.html">spy</a></li>
<li class="toctree-l1"><a class="reference internal" href="../trading.html">trading</a></li>
<li class="toctree-l1"><a class="reference internal" href="../types.html">types</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../types.html#ship-translations">Ship Translations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../types.html#ore-translations">Ore Translations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../types.html#spy-assignment-translations">Spy Assignment Translations</a></li>
</ul>
</li>
</ul>

        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../index.html">Monty Lacuna</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html">Docs</a> &raquo;</li>
      
          <li><a href="index.html">MontyLacuna Scripts</a> &raquo;</li>
      
    <li>Assign Spies</li>
      <li class="wy-breadcrumbs-aside">
        
          <a href="../sources/scripts/assign_spies.txt" rel="nofollow"> View page source</a>
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            
  <div class="section" id="assign-spies">
<span id="id1"></span><h1>Assign Spies<a class="headerlink" href="#assign-spies" title="Permalink to this headline">¶</a></h1>
<p>Assigns spies based out of a single planet, in bulk, to a specified task.
Note that this does not send any spies to a target.  You must make sure that
your spies are in the correct locations before attempting to use this to
assign them to tasks.</p>
<p>The name of the task to be performed must be translatable, see
<a class="reference internal" href="../types.html#spy-assg-translations"><em>Spy Assignment Translations</em></a>.</p>
<p>See also <a class="reference internal" href="spies_report.html#spies-report"><em>Spies Report</em></a>, to check out what your spies are doing right
now, then use this script to assign them to some other task.</p>
<p>Assign all Idle spies on Earth to Counter Espionage:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">python</span> <span class="nb">bin</span><span class="o">/</span><span class="n">assign_spies</span><span class="o">.</span><span class="n">py</span> <span class="n">Earth</span> <span class="s">&quot;Counter Espionage&quot;</span>
</pre></div>
</div>
<p>Assign only 20 spies on Earth to Counter Espionage:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">python</span> <span class="nb">bin</span><span class="o">/</span><span class="n">assign_spies</span><span class="o">.</span><span class="n">py</span> <span class="o">--</span><span class="n">num</span> <span class="mi">20</span> <span class="n">Earth</span> <span class="n">counter</span>
</pre></div>
</div>
<p>Assign only your 20 highest-level spies on Earth to Counter Espionage:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">python</span> <span class="nb">bin</span><span class="o">/</span><span class="n">assign_spies</span><span class="o">.</span><span class="n">py</span> <span class="o">--</span><span class="n">num</span> <span class="mi">20</span> <span class="o">--</span><span class="n">top</span> <span class="n">level</span> <span class="n">Earth</span> <span class="n">counter</span>

<span class="go">This is actually exactly the same as the previous example, since &#39;level&#39;</span>
<span class="go">is the default value for the --top option.</span>
</pre></div>
</div>
<p>The special planet name &#8216;all&#8217; will rotate through all of your planets, making
the same assignments on each one.  This usually doesn&#8217;t make much sense,
except in the case of Counter Espionage.  If you want to assign all of your
Idle spies on all of your planets to Counter Espionage:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">python</span> <span class="nb">bin</span><span class="o">/</span><span class="n">assign_spies</span><span class="o">.</span><span class="n">py</span> <span class="nb">all</span> <span class="n">counter</span>
</pre></div>
</div>
<p>On the other hand, you might just want a maximum of 20 assigned to Counter on
each planet:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">python</span> <span class="nb">bin</span><span class="o">/</span><span class="n">assign_spies</span><span class="o">.</span><span class="n">py</span> <span class="o">--</span><span class="n">num</span> <span class="mi">20</span> <span class="o">--</span><span class="n">topoff</span> <span class="nb">all</span> <span class="n">counter</span>

<span class="go">So if one planet already has 11 guys on counter, 9 more will be set to</span>
<span class="go">counter.  If the next planet has nobody on counter, it&#39;ll get 20</span>
<span class="go">assigned, etc.</span>
</pre></div>
</div>
<p>Assign 20 spies who are currently doing Counter Espionage to Idle:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">python</span> <span class="nb">bin</span><span class="o">/</span><span class="n">assign_spies</span><span class="o">.</span><span class="n">py</span> <span class="o">--</span><span class="n">num</span> <span class="mi">20</span> <span class="o">--</span><span class="n">doing</span> <span class="n">counter</span> <span class="n">Earth</span> <span class="n">idle</span>
</pre></div>
</div>
<p>Assume you&#8217;ve sent all 90 of your spies from your planet, Earth, to Mars, your
mortal enemy.  You want to have 20 of those spies run assassinate operatives,
but you only want your best Mayhem spies to try those assassinations:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">python</span> <span class="nb">bin</span><span class="o">/</span><span class="n">assign_spies</span><span class="o">.</span><span class="n">py</span> <span class="o">--</span><span class="n">num</span> <span class="mi">20</span> <span class="o">--</span><span class="n">on</span> <span class="n">Mars</span> <span class="o">--</span><span class="n">top</span> <span class="n">mayhem</span> <span class="n">Earth</span> <span class="n">kill</span>
</pre></div>
</div>
<div class="section" id="shared-cache">
<h2>Shared Cache<a class="headerlink" href="#shared-cache" title="Permalink to this headline">¶</a></h2>
<p>Very often, you&#8217;ll run <a class="reference internal" href="spies_report.html#spies-report"><em>Spies Report</em></a> before running this script.  This
script shares cache data (which persists for one hour) with that report
script, which will mean that this script will run more quickly if you&#8217;ve just
run the spies report script.</p>
<p>After this script completes, it always clears out that shared cache, because
it knows that spies have just been assigned new tasks, rendering the data in
that cache invalid.</p>
<p>So you can always run the spy report script after running this and be sure
that you&#8217;re seeing fresh data.</p>
<dl class="docutils">
<dt>However, there&#8217;s also a case where the shared cache can cause a problem with this script:</dt>
<dd><ul class="first last simple">
<li>You run <a class="reference internal" href="spies_report.html#spies-report"><em>Spies Report</em></a> to check on your spies.</li>
<li>You send some of your spies to a nearby target and wait for them to
arrive.</li>
<li>You try to use this script to assign those spies to a task.</li>
</ul>
</dd>
</dl>
<p>If the spies you sent reached their destination in under an hour, then when
you run this assignment script, it&#8217;ll be reading that cached data and will
still think those spies are in their old locations.</p>
<p>To fix this, simply send the <tt class="docutils literal"><span class="pre">--fresh</span></tt> argument to this script.  So the
process would look something like this:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">py</span> <span class="nb">bin</span><span class="o">/</span><span class="n">spies_report</span><span class="o">.</span><span class="n">py</span> <span class="n">Earth</span>
<span class="go">Check the output, send some of your spies to your mortal enemy planet</span>
<span class="go">Mars, which is nearby, so the trip only takes a few minutes.  Wait for</span>
<span class="go">them to arrive.</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">py</span> <span class="nb">bin</span><span class="o">/</span><span class="n">assign_spies</span><span class="o">.</span><span class="n">py</span> <span class="o">--</span><span class="n">on</span> <span class="n">Mars</span> <span class="o">--</span><span class="n">fresh</span> <span class="n">Earth</span> <span class="n">kidnap</span>
<span class="go">Tell the spies that you just sent to Mars to run the Abduct Operatives</span>
<span class="go">task.  Since you passed that &quot;--fresh&quot; argument, the script will see your</span>
<span class="go">newly-placed spies on Mars.</span>
</pre></div>
</div>
</div>
<div class="section" id="valid-top-settings">
<h2>Valid &#8220;Top&#8221; Settings<a class="headerlink" href="#valid-top-settings" title="Permalink to this headline">¶</a></h2>
<p>The <tt class="docutils literal"><span class="pre">--top</span></tt> argument ensures that the requested task is run by only your
best spies.  You don&#8217;t want to waste your good mayhem guys on intel missions,
or your good theft guys on politics missions, etc.</p>
<p>When specifying which spies should perform your task with the <tt class="docutils literal"><span class="pre">--top</span></tt>
option, you can pass any of the following values:</p>
<blockquote>
<div><ul class="simple">
<li>level</li>
<li>politics</li>
<li>mayhem</li>
<li>theft</li>
<li>intel</li>
<li>offense_rating</li>
<li>defense_rating</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="full-documentation">
<h2>Full Documentation<a class="headerlink" href="#full-documentation" title="Permalink to this headline">¶</a></h2>
<p>For complete help, see the script&#8217;s help documentation:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">python</span> <span class="nb">bin</span><span class="o">/</span><span class="n">assign_spies</span><span class="o">.</span><span class="n">py</span> <span class="o">-</span><span class="n">h</span>
</pre></div>
</div>
<dl class="class">
<dt id="lacuna.binutils.libassign_spies.AssignSpies">
<em class="property">class </em><tt class="descclassname">lacuna.binutils.libassign_spies.</tt><tt class="descname">AssignSpies</tt><a class="headerlink" href="#lacuna.binutils.libassign_spies.AssignSpies" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="../getting_started_writing.html#lacuna.binutils.libbin.Script" title="lacuna.binutils.libbin.Script"><tt class="xref py py-class docutils literal"><span class="pre">lacuna.binutils.libbin.Script</span></tt></a></p>
<p>Assigns spies to a task, in bulk.</p>
<p>Shares cache data with libspies_report.py, as that will often be run just 
before this.</p>
<dl class="method">
<dt id="lacuna.binutils.libassign_spies.AssignSpies.assign_spies">
<tt class="descname">assign_spies</tt><big>(</big><big>)</big><a class="headerlink" href="#lacuna.binutils.libassign_spies.AssignSpies.assign_spies" title="Permalink to this definition">¶</a></dt>
<dd><p>Assigns our spies to the requested task.  Assumes all desired 
filters have already been processed.</p>
</dd></dl>

<dl class="method">
<dt id="lacuna.binutils.libassign_spies.AssignSpies.check_topoff">
<tt class="descname">check_topoff</tt><big>(</big><big>)</big><a class="headerlink" href="#lacuna.binutils.libassign_spies.AssignSpies.check_topoff" title="Permalink to this definition">¶</a></dt>
<dd><p>If the user just wants to topoff, usually for Counter Espionage, 
check how many spies are already performing that task and set how many 
more should be assigned.</p>
</dd></dl>

<dl class="method">
<dt id="lacuna.binutils.libassign_spies.AssignSpies.set_able_spies">
<tt class="descname">set_able_spies</tt><big>(</big><big>)</big><a class="headerlink" href="#lacuna.binutils.libassign_spies.AssignSpies.set_able_spies" title="Permalink to this definition">¶</a></dt>
<dd><p>Set spies able to perform the specified by the <tt class="docutils literal"><span class="pre">task</span></tt> argument.</p>
</dd></dl>

<dl class="method">
<dt id="lacuna.binutils.libassign_spies.AssignSpies.set_best_spies">
<tt class="descname">set_best_spies</tt><big>(</big><big>)</big><a class="headerlink" href="#lacuna.binutils.libassign_spies.AssignSpies.set_best_spies" title="Permalink to this definition">¶</a></dt>
<dd><p>If we&#8217;ve got more spies available than requested, set only the 
<tt class="docutils literal"><span class="pre">--top</span></tt> <tt class="docutils literal"><span class="pre">--num</span></tt> spies.</p>
</dd></dl>

<dl class="method">
<dt id="lacuna.binutils.libassign_spies.AssignSpies.set_planet">
<tt class="descname">set_planet</tt><big>(</big><em>pname: str</em><big>)</big><a class="headerlink" href="#lacuna.binutils.libassign_spies.AssignSpies.set_planet" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the current working planet by name.</p>
<dl class="docutils">
<dt>Arguments:</dt>
<dd><ul class="first last simple">
<li>pname &#8211; String name of the planet to set.</li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="lacuna.binutils.libassign_spies.AssignSpies.set_spies_doing_correct_task">
<tt class="descname">set_spies_doing_correct_task</tt><big>(</big><big>)</big><a class="headerlink" href="#lacuna.binutils.libassign_spies.AssignSpies.set_spies_doing_correct_task" title="Permalink to this definition">¶</a></dt>
<dd><p>Set spies currently performing the task specified by the <tt class="docutils literal"><span class="pre">--doing</span></tt> 
option, or &#8220;Idle&#8221; if no <tt class="docutils literal"><span class="pre">--doing</span></tt> option was passed.</p>
</dd></dl>

<dl class="method">
<dt id="lacuna.binutils.libassign_spies.AssignSpies.set_spies_on_target">
<tt class="descname">set_spies_on_target</tt><big>(</big><big>)</big><a class="headerlink" href="#lacuna.binutils.libassign_spies.AssignSpies.set_spies_on_target" title="Permalink to this definition">¶</a></dt>
<dd><p>Set spies located on the target specified by the <tt class="docutils literal"><span class="pre">--on</span></tt> option, 
or the current planet if no <tt class="docutils literal"><span class="pre">--on</span></tt> option was passed.</p>
</dd></dl>

</dd></dl>

</div>
</div>


          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="build_ships.html" class="btn btn-neutral float-right" title="Build Ships"/>Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="get_pip.html" class="btn btn-neutral" title="Get Pip"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2014, Jonathan Barton.
    </p>
  </div>

  <a href="https://github.com/snide/sphinx_rtd_theme">Sphinx theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>
</footer>
        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'0.1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../static/jquery.js"></script>
      <script type="text/javascript" src="../static/underscore.js"></script>
      <script type="text/javascript" src="../static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>